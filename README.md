# LawChatbot

# 프로젝트 소개

본 프로젝트는 산업체의 산업보건 담당자가 업무 수행시 방대한 양의 법령/법규를 모두 인지하고 있을 수는 없기 때문에 챗봇을 통해 도움을 주고자하는 프로젝트입니다. 챗봇은 LlamaIndex LLM프레임워크 기반으로 OpenAI API를 통하여 GPT-4o모델을 사용하였습니다. 또한 RAG Flow를 따르기 때문에 PostgreSQL DB에 벡터서칭이 가능하도록 구현하였습니다.

*(주)테크노니아과의 산학 프로젝트임을 밝힙니다.

# 기술

- LlamaIndex
- PostgreSQL
- Embedding Model(HuggingFace)
- LLM(OpenAI)

# 문제해결

- 대한민국 법령/법규에 관한 데이터가 PDF였고, RAG를 위해서는 데이터가 DB에 관계형으로 존재해야만 했습니다. 그래서 PDF의 텍스트를 추출하여 일정한 패턴에 따라 DB에 Insert되는 프로그램을 구현하였습니다. 이는 대한민국의 모든 법령/법규에 적용될 수 있는 프로그램 수준으로 만들었습니다.
- RAG를 통하여 top_k개의 데이터를 가져왔을 때 이 데이터 간에도 유사도의 차이가 있었습니다. 그래서 적절한 데이터를 선택해서 사용하기 위하여서 top_k로 가져온 데이터들끼리의 유사도 평균을 계산했고 이 평균을 넘는 데이터만 LLM에게 넘겨주어 답변의 정확성을 높혔습니다.
- 기업 측에서 요구한 RAG Flow가 LlamaIndex공식문서에서 제공하고 있는 형태와 달랐습니다. 그래서 저는 담당자와 적극적으로 소통하며 제가 이해한 바를 확인하였고 DB의 벡터검색을 통한 RAG라는 결론에 도달할 수 있었습니다.

# 성과

기업 내부 테스트를 통과하여 RAG형태의 법령 챗봇 서비스를 프로토타입으로 기술이전 했습니다.

# 배운 점

- LLM프레임워크 중 LlamaIndex의 여러 기능에 대해서 사용하였고 배웠습니다.
- RAG가 어떤 과정인지, 그리고 벡터 타입을 제공하는 PostgreSQL DB를 사용하여 벡터 검색 하는 법을 배웠습니다.
